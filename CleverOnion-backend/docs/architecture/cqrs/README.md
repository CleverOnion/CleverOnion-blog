# CQRS æ¶æ„ä¸“é¢˜

å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼ˆCQRSï¼‰æ¶æ„æ”¹è¿›çš„å®Œæ•´æ–¹æ¡ˆå’Œæ‰§è¡Œæ–‡æ¡£ã€‚

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ“– è®¾è®¡æ–‡æ¡£ï¼ˆdesign/ï¼‰

**ç†è®ºã€æ–¹æ¡ˆå’Œæœ€ä½³å®è·µ**

#### 1. [CQRS æ¶æ„å®æ–½æŒ‡å—](./design/cqrs-implementation-guide.md)

**å®Œæ•´çš„ CQRS å®æ–½æ–¹æ¡ˆ**ï¼ˆ1800+ è¡Œï¼‰

åŒ…å«ï¼š

- CQRS æ¦‚è¿°å’Œæ ¸å¿ƒåŸåˆ™
- ä¸ºä»€ä¹ˆå¼•å…¥ CQRS
- å½“å‰é—®é¢˜åˆ†æï¼ˆ52 ä¸ªæ–¹æ³• â†’ æ‹†åˆ†ä¸º 2 ä¸ªæœåŠ¡ï¼‰
- å®Œæ•´æ¶æ„è®¾è®¡
- 5 ä¸ªé˜¶æ®µè¯¦ç»†å®æ–½æ­¥éª¤
- å®Œæ•´ä»£ç ç¤ºä¾‹
- è¿ç§»ç­–ç•¥å’Œæµ‹è¯•æ–¹æ¡ˆ
- æ€§èƒ½ä¼˜åŒ–å»ºè®®
- æœ€ä½³å®è·µ

#### 2. [CQRS å¿«é€Ÿå‚è€ƒæ‰‹å†Œ](./design/cqrs-quick-reference.md)

**æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥**ï¼ˆ10KBï¼‰

åŒ…å«ï¼š

- ä¸€å¥è¯æ€»ç»“
- å‘½ä»¤ vs æŸ¥è¯¢å¯¹æ¯”
- ä»£ç æ¨¡æ¿ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰
- æ–¹æ³•è¿ç§»æ˜ å°„è¡¨
- ç¼“å­˜ç­–ç•¥é€ŸæŸ¥
- å¸¸è§é™·é˜±è­¦ç¤º

#### 3. [CQRS æŸ¥è¯¢å¯¹è±¡ä½¿ç”¨æŒ‡å—](./design/cqrs-query-object-guide.md)

**å›ç­”ï¼šæŸ¥è¯¢éœ€è¦åƒå‘½ä»¤é‚£æ ·ä½¿ç”¨ä¸“é—¨å¯¹è±¡å—ï¼Ÿ**

åŒ…å«ï¼š

- Command vs Query å¯¹è±¡å¯¹æ¯”
- ä½•æ—¶ä½¿ç”¨ Query å¯¹è±¡
- ä½•æ—¶ä¸éœ€è¦ Query å¯¹è±¡
- å†³ç­–æ ‘å’Œå¿«é€Ÿå†³ç­–è¡¨
- CleverOnion é¡¹ç›®å…·ä½“å»ºè®®

**æ ¸å¿ƒç­”æ¡ˆ**ï¼š

- âœ… å‘½ä»¤ - **å¿…é¡»**ä½¿ç”¨ Command å¯¹è±¡
- âš ï¸ æŸ¥è¯¢ - **é€šå¸¸ä¸éœ€è¦** Query å¯¹è±¡ï¼ˆç®€å•æŸ¥è¯¢ç›´æ¥ä¼ å‚ï¼‰

---

### ğŸ“‹ æ‰§è¡Œæ–‡æ¡£ï¼ˆexecution/ï¼‰

**ä»»åŠ¡ã€è¿›åº¦å’Œæ‰§è¡Œè®°å½•**

#### 1. [CQRS å®æ–½ä»»åŠ¡æ¸…å•](./execution/cqrs-implementation-tasks.md)

**46 ä¸ªè¯¦ç»†ä»»åŠ¡ï¼Œ5 ä¸ªé˜¶æ®µ**

- é˜¶æ®µ 1ï¼šå‡†å¤‡å·¥ä½œï¼ˆ9 ä¸ªä»»åŠ¡ï¼Œ1-2 å¤©ï¼‰ âœ… **å·²å®Œæˆ**
- é˜¶æ®µ 2ï¼šå‘½ä»¤å®æ–½ï¼ˆ17 ä¸ªä»»åŠ¡ï¼Œ2-3 å¤©ï¼‰
- é˜¶æ®µ 3ï¼šæŸ¥è¯¢å®æ–½ï¼ˆ18 ä¸ªä»»åŠ¡ï¼Œ2-3 å¤©ï¼‰
- é˜¶æ®µ 4ï¼šç¼“å­˜é›†æˆï¼ˆ9 ä¸ªä»»åŠ¡ï¼Œ1-2 å¤©ï¼‰
- é˜¶æ®µ 5ï¼šæ¸…ç†ä¼˜åŒ–ï¼ˆ8 ä¸ªä»»åŠ¡ï¼Œ1 å¤©ï¼‰

**æ¯ä¸ªä»»åŠ¡åŒ…å«**ï¼š

- è¯¦ç»†æè¿°
- å…·ä½“æ“ä½œæ­¥éª¤
- éªŒè¯æ ‡å‡†
- é¢„è®¡æ—¶é—´
- ä¾èµ–å…³ç³»

#### 2. [CQRS è¿›åº¦è·Ÿè¸ªè¡¨](./execution/cqrs-progress-tracker.md)

**å®æ—¶è¿›åº¦è·Ÿè¸ª**

åŒ…å«ï¼š

- æ€»ä½“è¿›åº¦ä»ªè¡¨ç›˜
- æ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€è·Ÿè¸ª
- è´Ÿè´£äººåˆ†é…
- å®é™…ç”¨æ—¶è®°å½•
- é—®é¢˜è®°å½•åŒºåŸŸ
- é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹
- æ¯æ—¥ç«™ä¼šè¦ç‚¹

**å½“å‰è¿›åº¦**ï¼š9/61 (15%) - é˜¶æ®µ 1 å·²å®Œæˆ âœ…

#### 3. [æ‰§è¡Œæ€»ç»“](./execution/EXECUTION_SUMMARY.md)

**é˜¶æ®µæ€§æ€»ç»“æŠ¥å‘Š**

åŒ…å«ï¼š

- å·²å®Œæˆä»»åŠ¡æ±‡æ€»
- å·²åˆ›å»ºæ–‡ä»¶æ¸…å•
- ä»£ç ç»Ÿè®¡æ•°æ®
- é‡Œç¨‹ç¢‘è¾¾æˆæƒ…å†µ
- ä¸‹ä¸€æ­¥å·¥ä½œè®¡åˆ’

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¦‚æœæ‚¨æƒ³äº†è§£ CQRS

```
1. å¿«é€Ÿäº†è§£ï¼ˆ5åˆ†é’Ÿï¼‰
   â””â”€ é˜…è¯» design/cqrs-quick-reference.md

2. æ·±å…¥ç†è§£ï¼ˆ30åˆ†é’Ÿï¼‰
   â””â”€ é˜…è¯» design/cqrs-implementation-guide.md

3. ç†è§£æŸ¥è¯¢è®¾è®¡ï¼ˆ10åˆ†é’Ÿï¼‰
   â””â”€ é˜…è¯» design/cqrs-query-object-guide.md
```

### å¦‚æœæ‚¨è¦æ‰§è¡Œ CQRS é‡æ„

```
1. æŸ¥çœ‹ä»»åŠ¡æ¸…å•ï¼ˆ15åˆ†é’Ÿï¼‰
   â””â”€ execution/cqrs-implementation-tasks.md

2. æŸ¥çœ‹å½“å‰è¿›åº¦ï¼ˆ5åˆ†é’Ÿï¼‰
   â””â”€ execution/cqrs-progress-tracker.md

3. å¼€å§‹æ‰§è¡Œä»»åŠ¡
   â””â”€ æŒ‰ç…§ä»»åŠ¡æ¸…å•é€é¡¹å®Œæˆ
   â””â”€ åœ¨è¿›åº¦è·Ÿè¸ªè¡¨ä¸­æ›´æ–°çŠ¶æ€
```

---

## ğŸ“Š é¡¹ç›®ä¿¡æ¯

### å½“å‰çŠ¶æ€

| æŒ‡æ ‡             | æ•°å€¼               |
| ---------------- | ------------------ |
| **æ€»è¿›åº¦**       | 15% (9/61)         |
| **å½“å‰é˜¶æ®µ**     | é˜¶æ®µ 2 å‘½ä»¤å®æ–½ ğŸŸ¡ |
| **å·²å®Œæˆé˜¶æ®µ**   | é˜¶æ®µ 1 å‡†å¤‡å·¥ä½œ âœ… |
| **é¢„è®¡å‰©ä½™æ—¶é—´** | 7-9 å¤©             |

### é¢„æœŸæ”¶ç›Š

| æŒ‡æ ‡               | æ”¹è¿›å‰  | æ”¹è¿›å        | æå‡     |
| ------------------ | ------- | ------------- | -------- |
| æœåŠ¡ç±»è¡Œæ•°         | 1028 è¡Œ | 300-400 è¡Œ Ã—2 | 60-70%â†“  |
| å•ä¸ªæœåŠ¡æ–¹æ³•æ•°     | 52 ä¸ª   | 10-15 ä¸ª      | 70-80%â†“  |
| æŸ¥è¯¢æ€§èƒ½ï¼ˆç¼“å­˜åï¼‰ | åŸºå‡†    | 10-100 å€     | æ˜¾è‘—æå‡ |
| ä»£ç å¯ç»´æŠ¤æ€§       | ä¸­      | é«˜            | æ˜æ˜¾æ”¹å–„ |

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

### âœ… é€‚åˆå¼•å…¥ CQRS

- æœåŠ¡æ–¹æ³• > 30 ä¸ª â† **CleverOnion ç¬¦åˆï¼ˆ52 ä¸ªï¼‰**
- è¯»æ“ä½œ > 70% â† **CleverOnion ç¬¦åˆï¼ˆ77%ï¼‰**
- éœ€è¦ç‹¬ç«‹ä¼˜åŒ–è¯»å†™
- è¯»å¤šå†™å°‘çš„ä¸šåŠ¡åœºæ™¯

### âŒ ä¸é€‚åˆ

- ç®€å•çš„ CRUD åº”ç”¨
- è¯»å†™æ¯”ä¾‹ç›¸å½“
- é¡¹ç›®åˆæœŸï¼Œéœ€æ±‚ä¸ç¨³å®š

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

### é¡¹ç›®æ–‡æ¡£

- [ç³»ç»Ÿæ¶æ„æ–‡æ¡£](../../architecture.md) - æ•´ä½“æ¶æ„è®¾è®¡
- [åç«¯å¼€å‘è§„èŒƒ](../../standards/backend-development-standards.md) - å¼€å‘è§„èŒƒæ€»ç»“
- [é¡¹ç›®é—®é¢˜åˆ†æ](../../standards/issues-and-improvements.md) - é—®é¢˜åˆ†æå’Œæ”¹è¿›å»ºè®®
- [å¼€å‘æŒ‡å—](../../development-guidelines.md) - åŸå¼€å‘è§„èŒƒ
- [åŠŸèƒ½æ–‡æ¡£](../../features.md) - ç³»ç»ŸåŠŸèƒ½è¯´æ˜

### å¤–éƒ¨èµ„æº

- [CQRS Pattern - Martin Fowler](https://martinfowler.com/bliki/CQRS.html)
- [Domain-Driven Design Reference](https://www.domainlanguage.com/ddd/reference/)

---

## ğŸ”„ å®æ–½è¿›åº¦

### å·²å®Œæˆ âœ…

- [x] **é˜¶æ®µ 1ï¼šå‡†å¤‡å·¥ä½œ**ï¼ˆ9 ä¸ªä»»åŠ¡ï¼Œ100%ï¼‰
  - åŸºç¡€ç»“æ„åˆ›å»º
  - é¢†åŸŸäº‹ä»¶æœºåˆ¶
  - å‘½ä»¤å¯¹è±¡åˆ›å»º
  - å•å…ƒæµ‹è¯•

### è¿›è¡Œä¸­ ğŸŸ¡

- [ ] **é˜¶æ®µ 2ï¼šå‘½ä»¤å®æ–½**ï¼ˆ17 ä¸ªä»»åŠ¡ï¼Œ0%ï¼‰
  - å®ç°å‘½ä»¤æ–¹æ³•
  - æ›´æ–°æ§åˆ¶å™¨
  - ç¼–å†™æµ‹è¯•

### å¾…å¼€å§‹ â¬œ

- [ ] **é˜¶æ®µ 3ï¼šæŸ¥è¯¢å®æ–½**ï¼ˆ18 ä¸ªä»»åŠ¡ï¼‰
- [ ] **é˜¶æ®µ 4ï¼šç¼“å­˜é›†æˆ**ï¼ˆ9 ä¸ªä»»åŠ¡ï¼‰
- [ ] **é˜¶æ®µ 5ï¼šæ¸…ç†ä¼˜åŒ–**ï¼ˆ8 ä¸ªä»»åŠ¡ï¼‰

è¯¦ç»†è¿›åº¦ï¼š[è¿›åº¦è·Ÿè¸ªè¡¨](./execution/cqrs-progress-tracker.md)

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### å¯¹äºæ¶æ„å¸ˆ/æŠ€æœ¯è´Ÿè´£äºº

1. é˜…è¯» [è®¾è®¡æ–‡æ¡£](./design/) äº†è§£å®Œæ•´æ–¹æ¡ˆ
2. å®¡æŸ¥ [ä»»åŠ¡æ¸…å•](./execution/cqrs-implementation-tasks.md)
3. åˆ†é…ä»»åŠ¡å¹¶è·Ÿè¸ªè¿›åº¦

### å¯¹äºå¼€å‘äººå‘˜

1. å…ˆçœ‹ [å¿«é€Ÿå‚è€ƒ](./design/cqrs-quick-reference.md)
2. ç†è§£ [æŸ¥è¯¢å¯¹è±¡æŒ‡å—](./design/cqrs-query-object-guide.md)
3. æŒ‰ [ä»»åŠ¡æ¸…å•](./execution/cqrs-implementation-tasks.md) æ‰§è¡Œ
4. åœ¨ [è¿›åº¦è¡¨](./execution/cqrs-progress-tracker.md) æ›´æ–°çŠ¶æ€

---

**è¿”å›**: [æ¶æ„æ–‡æ¡£é¦–é¡µ](../README.md) | [é¡¹ç›®æ–‡æ¡£é¦–é¡µ](../../README.md)
